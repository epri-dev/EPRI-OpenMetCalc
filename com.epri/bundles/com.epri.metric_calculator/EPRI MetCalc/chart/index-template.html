<html>

<head>
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="switch.css">

	<script src="thirdparty/jquery.min.js"></script>
	<script src="thirdparty/Chart.js"></script>
	<script src="thirdparty/echarts-all.js"></script>

	<script src="const.js"></script>
	<script src="gauge.js"></script>
	<script src="bar.js"></script>
	<script src="line.js"></script>
</head>

<body style="font-family:sans-serif;overflow:hidden; background:#fefefe; margin-top:0; margin-left : 0;">
	<div style="display:flex;overflow:hidden">
		<div id="left" style="width:60%;height:100%">
			<div class="container" style="height:24.5%;">
				<div class="title">Strategic Metrics</div>
				<div class="body">
					<div class="gauge_container">
						<div id="s_ps_chart" class="gauge"></div>
					</div>
					<div class="gauge_container">
						<div id="s_ds_chart" class="gauge"></div>
					</div>
					<div class="gauge_container">
						<div id="s_rs_chart" class="gauge"></div>
					</div>

					<div style="margin:10px">
						<div style="display:flex;margin-bottom: 3px">
							<svg width="16" height="16">
								<rect width="16" height="16" style="fill:rgba(0,0,0,0.5);" />
							</svg>
							<div style="font-size: 10pt;margin-left: 5px">Value</div>
						</div>
						<div style="display:flex;margin-bottom: 3px">
							<div>
								<svg width="16" height="16">
									<rect width="16" height="16" class="reference-value" />
								</svg>
							</div>
							<div style="font-size: 10pt;margin-left: 5px">Reference Value</div>
						</div>
						<div style="display:flex;margin-bottom: 3px">
							<div>
								<svg width="16" height="16">
									<rect width="16" height="16" class="target-value" />
								</svg>
							</div>
							<div style="font-size: 10pt;margin-left: 5px">Target Value</div>
						</div>
					</div>
				</div>
			</div>

			<div class="container" style="height:35%">
				<div class="title">History of Strategic Metrics</div>
				<div class="body">
					<canvas id="strategic_history"></canvas>
				</div>
			</div>

			<div class="container" style="height:35%">
				<div class="title">Tactical Metrics</div>
				<div class="body" style="display:block;text-align: center">

					<div style="display:inline-flex;height:5%;margin:5px;">
						<div style="margin-right:5px;display:flex">
							<svg width="16" height="16">
								<rect width="16" height="16" style="fill:rgba(0,0,0,0.5);" />
							</svg>
						</div>
						<div style="font-size: 10pt;margin-right:15px">Value</div>

						<div style="margin-right:5px;display:flex">
							<svg width="16" height="16">
								<rect width="16" height="16" class="reference-value" />
							</svg>
						</div>
						<div style="font-size: 10pt;margin-right:15px">Reference Value</div>


						<div style="margin-right:5px;display:flex">
							<svg width="16" height="16">
								<rect width="16" height="16" class="target-value" />
							</svg>
						</div>
						<div style="font-size: 10pt;margin-right:15px">Target Value</div>

					</div>

					<div id="tactical_metrics" style="width:100%;height:88%"></div>

				</div>
			</div>

		</div>

		<div id="right" style="width:40%;height:100%;">
			<div class="container" style="height:98%">
				<div class="title">Operational Metrics</div>
				<div class="body">
					$OPERATIONAL_METRICS
				</div>
			</div>
		</div>
	</div>
	<script>
		var param = {
			elementId: "s_ps_chart",
			$S_PS_GAUGE
		};
		drawGauge(param);
	</script>
	<script>
		var param = {
			elementId: "s_ds_chart",
			$S_DS_GAUGE
		};
		drawGauge(param);
	</script>
	<script>
		var param = {
			elementId: "s_rs_chart",
			$S_RS_GAUGE
		};
		drawGauge(param);
	</script>
	<script>
		var param = {
			elementId: "strategic_history",
			$STRATEGIC_HISTORY
		};
		drawLineChart(param);
	</script>
	<script>
		var param = {
			elementId: "tactical_metrics",
			$TACTICAL_METRICS
		};
		drawBar(param);
	</script>
	<script>
		// Controls the title and td of the comparison value in operational metrics.

		var ID_compareValueText = "compareValueText";
		var STR_referenceValue = "Reference Value";
		var STR_targetValue = "Target Value";
		var CLASS_referenceValue = "referenceValue";
		var CLASS_targetValue = "targetValue";

		// Show td for reference value.
		$("." + CLASS_referenceValue).css('display', 'block');

		// Hide td for target value.
		$("." + CLASS_targetValue).css('display', 'none');

		// Callback invoked when slider button clicked.
		function onClickHandler(slider) {
			if (slider.checked) {
				displayTarget(slider);
			} else {
				displayRefer(slider);
			}
		}

		function displayRefer(slider) {
			console.log("displayRefer()")

			// Change header text.
			$("#" + ID_compareValueText).text(STR_referenceValue);

			// Show td for reference value.
			$("." + CLASS_referenceValue).css('display', 'block');

			// Hide td for target value.
			$("." + CLASS_targetValue).css('display', 'none');
		}

		function displayTarget(slider) {
			console.log("displayTarget()")

			// Change header text.
			$("#" + ID_compareValueText).text(STR_targetValue);

			// Show td for target value.
			$("." + CLASS_targetValue).css('display', 'block');

			// Hide td for reference value.
			$("." + CLASS_referenceValue).css('display', 'none');
		}

	</script>
</body>

</html>